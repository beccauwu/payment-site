{% load static %}
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalTitle" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content text-center" id="loginModalContent">
            <div class="modal-header">
                <h5 class="modal-title giBold text-black" id="loginModalTitle">Login</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="post" id="loginModalForm" action="{% url 'login' %}">
                    {% csrf_token %}
                    {{login_form.username}}
                    {{login_form.password}}
                </form>
            </div>
            <div class="modal-footer">
                <div class="wi-fc mx-auto">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-secondary" data-bs-target="#signupModal"
                        data-bs-toggle="modal">Sign up
                        instead</button>
                    <button type="submit" class="btn btn-primary giBold" form="loginModalForm">Log in</button>
                </div>
            </div>
            <a href="{% url 'password_reset' %}" class="text-center">Forgot password?</a>
        </div>
    </div>
</div>
<div class="modal fade" tabindex="-1" aria-labelledby="signupModalTitle" aria-hidden="true" id="signupModal">
    <div class="modal-dialog">
        <div class="modal-content text-center">
            <div class="modal-header">
                <h5 class="modal-title giBold text-black" id="signupModalTitle">Sign up</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="post" id="signupModalForm" action="{% url 'signup' %}">
                    {% csrf_token %}
                    {{signup_form.username}}
                    {{signup_form.email}}
                    {{signup_form.password1}}
                    {{signup_form.password2}}
                    <div class="border-top border-black mt-1 pt-2">
                        <input class="form-check-input" name="policytosConsent" type="checkbox" value="" id="tosCheck">
                        <label class="form-check-label text-black giBold" for="tosCheck">
                            By clicking here you confirm that you have read,<br> and agree to our Terms of Use
                            and Privacy Notice
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <div class="wi-fc mx-auto">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-secondary" data-bs-target="#loginModal"
                        data-bs-toggle="modal">Log in
                        instead</button>
                    <button type="button" id="signupBtn" class="btn btn-secondary giBold" form="signupModalForm">Sign
                        up</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $('#tosCheck').change(function () {
        $('#signupBtn').toggleClass('btn-secondary').toggleClass('btn-primary');
        $(this).is(':checked') ? $('#signupBtn').attr('type', 'submit') : $('#signupBtn').attr('type', 'button');
    });
</script>